(function(){var Xa={"0.js":"bt","1.js":"basis.template.html","2.js":"basis.dom.event","3.js":"basis.l10n","4.js":"basis.event","5.js":"basis.template","6.js":"basis.template.htmlfgen"},wb,Ia={"0.js":function(f,a,b,c){function d(a){var c=e.indexOf(a);if(-1!=c)return g[c];c=new b.template.html.Template(a);e.push(a);g.push(c);return c}b.require("1.js");var e=[],g=[];c.bt=a.exports=b.object.extend(d,{init:function(a){if(!a)return this;if(a.noConflict)return delete window.bt,this},dispose:function(a){var c=
b.template.resolveTemplateById(a.templateId_);c&&c.clearInstance(a)},template:d})},"1.js":function(f,a,b,c){function d(a){a=b.template.getL10nTemplate(a);var c=a.templateId,d=k[c];d||(d=k[c]=new da(a.source));return d}function e(a){var b=G[a&4095];return b&&b.instances[a>>12]}b.require("2.js");b.require("3.js");b.require("5.js");b.require("6.js");f=this.path;var g=c.document,j=b.dom.event,H=b.string.camelize,q=b.l10n.token,U=b.template.htmlfgen.getFunctions,h=b.template.TemplateSwitchConfig,na=b.template.TemplateSwitcher,
p=b.template.Template,ra=b.template.TYPE_ELEMENT,A=b.template.TYPE_ATTRIBUTE,ja=b.template.TYPE_TEXT,B=b.template.TYPE_COMMENT,t=b.template.TOKEN_TYPE,x=b.template.TOKEN_BINDINGS,C=b.template.TOKEN_REFS,y=b.template.ATTR_NAME,z=b.template.ATTR_VALUE,s=b.template.ATTR_NAME_BY_TYPE,D=b.template.ELEMENT_NAME,m=b.template.TEXT_VALUE,N=b.template.COMMENT_VALUE,J={},G={},Ga={svg:"http://www.w3.org/2000/svg"},Q=!g.addEventListener&&"__basisTemplate"+parseInt(1E9*Math.random());Q&&(c[Q]=function(a,b){j.fireEvent(g,
a);var c=J[a];c&&c(b)});var Y,X=g.createElement("div");X.appendChild(g.createTextNode("a"));X.appendChild(g.createTextNode("a"));Y=1==X.cloneNode(!0).childNodes.length;var K,X=g.createElement("div");X.setAttribute("class","a");K=!X.className;var k={},u=function(a,b){function c(a,b){var d="event-"+a;if(!J[a]&&(J[a]=function(a){a=new j.Event(a);if(!a||!("click"==a.type&&3==a.which)){var b=a.sender,c;if(b){do if(c=b.getAttributeNode&&b.getAttributeNode(d))break;while(b=b.parentNode);if(b&&c){var l=b,
v,m;do if(v=b.basisTemplateId,"number"==typeof v&&(m=e(v)))break;while(b=b.parentNode);if(m&&m.action){b=c.nodeValue.trim().split(" ");a.actionTarget=l;for(l=0;c=b[l++];)m.action.call(m.context,c,a)}}}}},!Q))for(var v=0,g=j.browserEvents(a),m;m=g[v++];)j.addGlobalHandler(m,J[a]);Q&&l.setAttribute("on"+a,Q+'("'+a+'",event)');l.setAttribute(d,b)}function d(a,b){K&&"class"==a&&(a="className");l.setAttribute(a,b)}for(var l=b||g.createDocumentFragment(),f=b?4:0,n;n=a[f];f++)switch(n[t]){case ra:var k=
n[D],h=k.split(/:/),k=1<h.length?g.createElementNS(Ga[h[0]],k):g.createElement(k);u(n,k);l.appendChild(k);break;case A:var k=n[y],h=n[z],F=k.replace(/^event-/,"");if(F!=k)c(F,h);else if("class"!=k&&"style"!=k?!n[x]:h)d(k,h||"");break;case 4:case 5:(h=n[z-1])&&d(s[n[t]],h);break;case 6:c(n[1],n[2]||n[1]);break;case B:l.appendChild(g.createComment(n[N]||(n[C]?"{"+n[C].join("|")+"}":"")));break;case ja:Y&&(f&&a[f-1][t]==ja)&&l.appendChild(g.createComment("")),l.appendChild(g.createTextNode(n[m]||(n[C]?
"{"+n[C].join("|")+"}":"")||(n[x]?"{"+n[x]+"}":"")))}return l},Z=function(){this.set(this.name,this.value)},P=function(a,c,l){var e=c&&c.bindingBridge,m=this.attaches&&this.attaches[a],g=null;if(e||m)if(e){if(!m||c!==m.value){m&&(m.tmpl&&(m.tmpl.element.toString=null,d(m.value).clearInstance(m.tmpl)),m.value.bindingBridge.detach(m.value,Z,m));if("markup"==c.type&&c instanceof b.l10n.Token){var n=d(c),f=this.context,k=this.bindings,h=this.bindingInterface,g=n.createInstance(f,null,function Xb(){g=
N.tmpl=n.createInstance(f,null,Xb,k,h);g.element.toString=function(){return c.value};Z.call(N)},k,h);g.element.toString=function(){return c.value}}this.attaches||(this.attaches=new l);var N=this.attaches[a]={name:a,value:c,tmpl:g,set:this.tmpl.set};e.attach(c,Z,N)}else g=c&&"markup"==c.type?m.tmpl:null;if(g)return g.element;c=e.get(c)}else m&&(m.tmpl&&(m.tmpl.element.toString=null,d(m.value).clearInstance(m.tmpl)),m.value.bindingBridge.detach(m.value,Z,m),this.attaches[a]=null);return c},l=function(a,
b){return function(c){for(var d=0,l;l=a[d];d++)this(l,b[l](c))}},n=/\s+/,Aa="function"==typeof Node&&g instanceof Node?function(a,b,c){a=c instanceof Node&&!c.basisNodeInUse?c:a;a!==b&&b.parentNode.replaceChild(a,b);return a}:function(a,b,c){c=c&&"object"==typeof c&&!c.basisNodeInUse?c:a;if(c!==b)try{b.parentNode.replaceChild(c,b)}catch(d){c=a,b!==c&&b.parentNode.replaceChild(c,b)}return c},F=function(a,b,c,d){c!==d&&(d?a.setAttribute(b,d):a.removeAttribute(b));return d},Ca={bind_textNode:function(a,
b,c){b=Aa(a,b,c);b===a&&(a.nodeValue=c);return b},bind_node:Aa,bind_element:function(a,b,c){b=Aa(a,b,c);b===a&&"string"==typeof c&&(a.innerHTML=c);return b},bind_comment:Aa,bind_attr:F,bind_attrClass:c.DOMTokenList&&g&&g.documentElement.classList instanceof c.DOMTokenList?function(a,c,d,l,e){var m=d?l+d:"";m!=c&&(c&&a.classList.remove(c),m&&(a.classList.add(m),e&&(a.classList.add(m+"-anim"),b.nextTick(function(){a.classList.remove(m+"-anim")}))));return m}:function(a,c,d,l,e){var m=d?l+d:"";if(m!=
c){d=a.className;var g="string"!=typeof d;g&&(d=d.baseVal);d=d.split(n);c&&d.remove(c);m&&(d.push(m),e&&(d.add(m+"-anim"),b.nextTick(function(){var b=(g?a.className.baseVal:a.className).split(n);b.remove(m+"-anim");g?a.className.baseVal=b.join(" "):a.className=b.join(" ")})));g?a.className.baseVal=d.join(" "):a.className=d.join(" ")}return m},bind_attrStyle:function(a,b,c,d){if(c!==d)try{a.style[H(b)]=d}catch(l){}return d},resolve:P,l10nToken:q,createBindingFunction:function(a){var b={};return function(c,
d,e,m){if(!c)return{};var g="bindingId"in c?c.bindingId:null,n=b[g];if(!n){for(var n=[],f={},k={},h={},N=!1,j=0,u;u=a[j];j++){var F=c[u],U=F&&F.getter;if(U&&(f[u]=U,n.push(u),F.events))for(var F=String(F.events).trim().split(/\s+|\s*,\s*/),U=0,J;J=F[U];U++)k[J]?k[J].push(u):k[J]=[u]}for(J in k)N=!0,h[J]=l(k[J],f);n={names:n,sync:l(n,f),handler:N?h:null};g&&(b[g]=n)}d&&e&&n.sync.call(e,d);if(!m)return{};n.handler&&m.attach(d,n.handler,e);return n.handler}}},da=p.subclass({className:f+".Template",__extend__:function(a){return a instanceof
da?a:a instanceof h?new Da(a):new da(a)},builder:function(a){var b=U(a,!0,this.source.url,a.source_,!Y),c,d={},l={},e=[],m=0,g=u(a),n=function(){return g.cloneNode(!0)},f=this.templateId;G[f]={template:this,instances:d};if(b.createL10nSync){var k=b.createL10nSync(g,l,F,Y);a=0;for(var h;h=b.l10nKeys[a];a++)k(h,q(h).value);if(b.l10nKeys)for(a=0;h=b.l10nKeys[a];a++)h={path:h,token:q(h),handler:function(a){k(this.path,a);for(var b in d)d[b].tmpl.set(this.path,a)}},h.token.attach(h.handler,h),e.push(h),
h=null}c=b.createInstance(f,d,n,Ca,l,Y);return{createInstance:function(a,b,l,e,g){var n=m++;a=c(n,a,b,l,e,g);d[n]=a;return a.tmpl},destroyInstance:function(a){a=a.templateId_;var b=d[a];if(b){b.handler&&b.bindingInterface.detach(b.context,b.handler,b.tmpl.set);for(var c in b.attaches)P.call(b,c,null);delete d[a]}},keys:b.keys,destroy:function(a){for(var c=0,m;m=e[c];c++)m.token.detach(m.handler,m);for(var h in d)if(c=d[h],a&&c.rebuild&&c.rebuild.call(c.context),!a||h in d)for(h in c.handler&&c.bindingInterface.detach(c.context,
c.handler,c.tmpl.set),c.attaches)P.call(h,null);G[f]&&G[f].instances===d&&delete G[f];d=k=e=l=g=n=b=null}}}}),Da=na.subclass({className:f+".TemplateSwitcher",templateClass:da});a.exports={Template:da,TemplateSwitcher:Da};b.template.extend({buildHtml:u,resolveTemplateById:function(a){return(a=G[a&4095])&&a.template},resolveObjectById:function(a){return(a=e(a))&&a.context},resolveTmplById:function(a){return(a=e(a))&&a.tmpl}})},"2.js":function(f,a,b,c){function d(a){return a instanceof K?a.event_:a||
c.event}function e(a){return"string"==typeof a?D.getElementById(a):a}function g(a){return a.target||a.srcElement}function j(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function H(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function q(a,b){(b=e(b))?C(b,a,q):(H(a),j(a))}function U(a){return a.keyCode||a.which||0}function h(a){return a.charCode||a.keyCode||0}function na(a,b){return"number"==typeof a.which?a.which==b.VALUE:!!(a.button&b.BIT)}function p(a){return a.changedTouches?
a.changedTouches[0].pageX:"pageX"in a?a.pageX:a.clientX+(D.documentElement.scrollLeft||D.body.scrollLeft)}function ra(a){return a.changedTouches?a.changedTouches[0].pageY:"pageY"in a?a.pageY:a.clientY+(D.documentElement.scrollTop||D.body.scrollTop)}function A(a){var b=0;"wheelDelta"in a?b=a.wheelDelta:"DOMMouseScroll"==a.type&&(b=-a.detail);return b/Math.abs(b)}function B(a){var b=N(k[a.type]),c=u[a.type],d=new K(a);if(c)c.handler.call(c.thisObject,d),q(a);else if(b)for(a=b.length;0<a--;)c=b[a],c.handler.call(c.thisObject,
d)}function t(a){var b=u[a];b&&(x(a,b.handler,b.thisObject),delete u[a])}function W(a,b,c){var d=k[a];if(d){a=0;for(var e;e=d[a];a++)if(e.handler===b&&e.thisObject===c)return}else Z?C(D,a,m):D.addEventListener(a,B,!0),d=k[a]=[];d.push({handler:b,thisObject:c})}function x(a,b,c){var d=k[a];if(d)for(var e=0,g;g=d[e];e++)if(g.handler===b&&g.thisObject===c){d.splice(e,1);d.length||(delete k[a],Z?y(D,a,m):D.removeEventListener(a,B,!0));break}}function C(a,b,c,m){a=e(a);if(!a)throw 3;if("function"!=typeof c)throw 4;
a[G]||(a[G]={});var g={handler:c,thisObject:m},f=a[G],h=f[b];if(h){for(a=0;f=h[a];a++)if(f.handler===c&&f.thisObject===m)return;h.push(g)}else h=f[b]=[g],h.fireEvent=function(a){a=d(a);if(Z&&(a&&k[b])&&"undefined"==typeof a.returnValue){B(a);if(!0===a.cancelBubble)return;"undefined"==typeof a.returnValue&&(a.returnValue=!0)}var c=0;a=new K(a);for(var e;e=h[c++];)e.handler.call(e.thisObject,a)},J?a.addEventListener(b,h.fireEvent,!1):a.attachEvent("on"+b,h.fireEvent)}function y(a,b,c,d){a=e(a);var m=
a[G];if(m&&(m=m[b]))for(var g=0,f;f=m[g];g++)if(f.handler===c&&f.thisObject===d){m.splice(g,1);m.length||z(a,b);break}}function z(a,b){a=e(a);var c=a[G];if(c)if("string"!=typeof b)for(b in c)z(a,b);else{var d=c[b];d&&(a.removeEventListener?a.removeEventListener(b,d.fireEvent,!1):a.detachEvent("on"+b,d.fireEvent),delete c[b])}}function s(a){return function(b,c){return a(d(b),c)}}var D=c.document,m=b.fn.$null,N=b.array.from,J=!!D.addEventListener,G="__basisEvents";f={BACKSPACE:8,TAB:9,CTRL_ENTER:10,
ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,ESCAPE:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123};var Ga={VALUE:1,BIT:1},Q={VALUE:2,BIT:4},Y={VALUE:3,BIT:2},X={mousewheel:["mousewheel","DOMMouseScroll"]},K=b.Class(null,{className:this.path+".Event",KEY:f,init:function(a){a=d(a);b.object.extend(b.object.complete(this,a),{event_:a,sender:g(a),key:U(a),charCode:h(a),
mouseLeft:na(a,Ga),mouseMiddle:na(a,Q),mouseRight:na(a,Y),mouseX:p(a),mouseY:ra(a),wheelDelta:A(a)})},stopBubble:function(){j(this.event_)},stopPropagation:function(){j(this.event_)},preventDefault:function(){H(this.event_)},die:function(){this.stopBubble();this.preventDefault()}}),k={},u={},Z=!J,P={};a.exports={W3CSUPPORT:J,browserEvents:function(a){return X[a]||[a]},getEventInfo:function(a,b){b||(b="div");var c=b+"-"+a;if(P[c])return P[c];var d=!1,e=!1;if(!J){var m="on"+a,g=D.createElement("div"),
f=g.appendChild(D.createElement(b));g[m]=function(){e=!0};try{f.fireEvent(m),d=!0}catch(h){}}return P[c]={supported:d,bubble:e}},KEY:f,MOUSE_LEFT:Ga,MOUSE_RIGHT:Y,MOUSE_MIDDLE:Q,Handler:function(a,b){this.handler=a;this.thisObject=b},Event:K,sender:s(g),cancelBubble:s(j),cancelDefault:s(H),kill:s(q),key:s(U),charCode:s(h),mouseButton:s(na),mouseX:s(p),mouseY:s(ra),wheelDelta:s(A),addGlobalHandler:W,removeGlobalHandler:x,captureEvent:function(a,b,c){u[a]&&t(a);W(a,b,c);u[a]={handler:b,thisObject:c}},
releaseEvent:t,addHandler:C,addHandlers:function(a,b,c){a=e(a);for(var d in b)C(a,d,b[d],c)},removeHandler:y,clearHandlers:z,fireEvent:function(a,b,c){a=e(a);(a=a[G])&&a[b]&&a[b].fireEvent(c)},onUnload:function(a,b){C(c,"unload",a,b)},wrap:d}},"3.js":function(f,a,b){function c(a){var b=[],c;for(c in a)U.call(a,c)&&b.push(c);return b}function d(a,b,c,e){var g=a.cultureValues[b];e=e?e+".":"";for(var f in c)if(U.call(c,f)){var h=e+f,j=c[f];(g[h]=j)&&("object"==typeof j||Array.isArray(j))&&d(a,b,j,h)}}
function e(a){var c=b.path.extname(a);a=b.resource(".l10n"!=c?b.path.dirname(a)+"/"+b.path.basename(a,c)+".l10n":a);(c=t[a.url])||(c=t[a.url]=new W(a));return c}function g(a){var b=y[a];b||(b=y[a]=new D(a));return b}function j(a){if(a&&s!=a){s=a;for(var b=0,c;c=B[b];b++)c.syncValues();g.set(a)}}function H(a){"string"==typeof a&&(a=a.trim().split(" "));if(a.length){var c={},d,e;z={};for(var f=0,h;d=a[f];f++)d=d.split("/"),2<d.length&&(d=d.slice(0,2)),h=d[0],e||(e=h),c[h]=g(h),z[h]=d;for(h in z)z[h]=
b.array.flatten(z[h].map(function(a){return z[a]})).concat(e).filter(function(a,b,c){return!b||-1==c.lastIndexOf(a,b-1)});C=b.object.keys(c);!1==s in c&&j(e)}}b.require("4.js");f=this.path;var q=b.Class,U=Object.prototype.hasOwnProperty,h=b.event.Emitter;b.resource.extensions[".l10n"]=b.resource.extensions[".json"];var na=[],p={},ra=q(b.Token,{className:f+".ComputeToken",init:function(a,c){c.computeTokens[this.basisObjectId]=this;this.token=c;this.get=c.computeGetMethod;b.Token.prototype.init.call(this,
a)},toString:function(){return this.get()},destroy:function(){delete this.token.computeTokens[this.basisObjectId];this.token=null;b.Token.prototype.destroy.call(this)}}),A=q(b.Token,{className:f+".Token",index:NaN,dictionary:null,name:"",type:"default",computeTokens:null,init:function(a,c,d,e){b.Token.prototype.init.call(this,e);this.index=na.push(this)-1;this.name=c;this.dictionary=a;this.computeTokens={};d?this.setType(d):this.apply()},toString:function(){return this.get()},computeGetMethod:function(){},
apply:function(){var a={},d=this.computeTokens,e="plural"==this.type?function(){return a[y[s].plural(this.value)]}:function(){return a[this.value]};this.computeGetMethod=e;if("plural"==this.type&&Array.isArray(this.value)||"default"==this.type&&"object"==typeof this.value)a=b.object.slice(this.value,c(this.value));for(var g in d){var f=d[g],h=f.get(),j=e.call(f);f.get=e;h!==j&&f.apply()}b.Token.prototype.apply.call(this)},setType:function(a){if("plural"!=a&&(!b.l10n.enableMarkup||"markup"!=a))a="default";
this.type!=a&&(this.type=a,this.apply())},compute:function(a,c){1==arguments.length&&(c=a,a="");c=b.getter(c);a=String(a).trim().split(/\s+|\s*,\s*/).sort();var d=a.concat(this.basisObjectId,c.basisGetterId_).join("_");if(p[d])return p[d];for(var e=this,g={},f=function(a){this.set(c(a))},j={destroy:function(a){delete g[a.basisObjectId];this.destroy()}},U=0,H;H=a[U];U++)"destroy"!=H&&(j[H]=f);return p[d]=function(a){if(!1==a instanceof h)throw 5;var b=a.basisObjectId,d=g[b];d||(d=g[b]=new ra(c(a),
e),a.addHandler(j,d));return d}},computeToken:function(a){return new ra(a,this)},token:function(a){"plural"==this.type&&(a=y[s].plural(a));if(this.dictionary)return this.dictionary.token(this.name+"."+a)},destroy:function(){for(var a in this.computeTokens)this.computeTokens[a].destroy();this.value=this.computeTokens=null;b.Token.prototype.destroy.call(this)}}),B=[],t={},W=q(null,{className:f+".Dictionary",tokens:null,types:null,cultureValues:null,index:NaN,resource:null,init:function(a){this.tokens=
{};this.types={};this.cultureValues={};this.resource=a;this.update(a());a.attach(this.update,this);this.index=B.push(this)-1;x.set(a.url)},update:function(a){a||(a={});this.cultureValues={};for(var b in a)/^_|_$/.test(b)||(this.cultureValues[b]={},d(this,b,a[b]));this.types=a._meta&&a._meta.type||{};for(var c in this.tokens)this.tokens[c].setType(this.types[c]);this.syncValues()},syncValues:function(){for(var a in this.tokens)this.tokens[a].set(this.getValue(a))},getValue:function(a){for(var b=z[s],
c=0,d;d=b[c];c++)if((d=this.cultureValues[d])&&a in d)return d[a]},getCultureValue:function(a,b){return this.cultureValues[a]&&this.cultureValues[a][b]},token:function(a){var b=this.tokens[a];b||(b=this.tokens[a]=new A(this,a,this.types[a],this.getValue(a)));return b},destroy:function(){this.cultureValues=this.tokens=null;b.array.remove(B,this)}}),x=new b.Token,C=[],y={},z={},s=null,D=b.Class(null,{className:f+".Culture",name:"",init:function(a){this.name=a;"ru-RU"==a&&(this.plural=function(a){return 1==
a%10&&11!=a%100?0:2<=a%10&&4>=a%10&&(10>a%100||20<=a%100)?1:2})},plural:function(a){return 1==Number(a)?0:1}});b.object.extend(g,new b.Token(s));H("en-US");j("en-US");a.exports={ComputeToken:ra,Token:A,token:function(a){if("#"==a.charAt(0))return na[parseInt(a.substr(1),36)];if(a=a.match(/^(.+?)@(.+)$/))return e(a[2]).token(a[1])},Dictionary:W,dictionary:e,getDictionaries:function(){return B.slice(0)},addCreateDictionaryHandler:x.attach.bind(x),removeCreateDictionaryHandler:x.detach.bind(x),Culture:D,
culture:g,getCulture:function(){return s},setCulture:j,getCultureList:function(){return C.slice(0)},setCultureList:H,onCultureChange:function(a,b,c){g.attach(a,b);c&&a.call(b,s)}}},"4.js":function(f,a,b){function c(a){var b=H[a];b||(b=function(){for(var b=this,c,d;b=b.handler;)d=b.callbacks[a],"function"==typeof d&&d.apply(b.context||this,c||(c=[this].concat(e.call(arguments)))),d=b.callbacks["*"],"function"==typeof d&&d.call(b.context||this,{sender:this,type:a,args:arguments});g&&this.emit_debug&&
this.emit_debug({sender:this,type:a,args:arguments})},g&&(b=(new Function("slice, DEVMODE",'return {"'+d+".events."+a+'":\n\n      function('+e.call(arguments,1).join(", ")+"){"+b.toString().replace(/\beventName\b/g,"'"+a+"'").replace(/^function[^(]*\(\)[^{]*\{|\}$/g,"")+'}\n\n}["'+d+".events."+a+'"];'))(e,g)),H[a]=b);return b}var d=this.path;f=b.Class;var e=Array.prototype.slice,g=!1,j={},H={},q=function(){throw 6;};f=f(null,{className:d+".Emitter",extendConstructor_:!0,handler:null,emit_destroy:c("destroy"),
listen:f.nestedExtendProperty(),init:function(){this.handler&&!this.handler.callbacks&&(this.handler={callbacks:this.handler,context:this,handler:null})},addHandler:function(a,c){g&&!a&&b.dev.warn(this.constructor.className+"#addHandler: callbacks is not an object (",a,")");c=c||this;if(g)for(var d=this;d=d.handler;)if(d.callbacks===a&&d.context===c){b.dev.warn(this.constructor.className+"#addHandler: add duplicate event callbacks",a,"to Emitter instance:",this);break}this.handler={callbacks:a,context:c,
handler:this.handler}},removeHandler:function(a,c){var d=this,e;for(c=c||this;e=d,d=d.handler;)if(d.callbacks===a&&d.context===c){d.callbacks=j;e.handler=d.handler;return}g&&e!==this&&b.dev.warn(this.constructor.className+"#removeHandler: no handler removed")},destroy:function(){g&&(this.destroy=q);this.emit_destroy();this.handler=null}});g&&f.extend({handler_list:function(){for(var a=[],b=this;b=b.handler;)a.push([b.callbacks,b.context]);return a},emit_debug:null});a.exports={create:c,createHandler:function(a,
b){var c={events:[]};if(a){a=String(a).trim().split(/\s+|\s*,\s*/).sort();for(var c={events:a},d=0,e;e=a[d];d++)"destroy"!=e&&(c[e]=b)}return c},events:H,Emitter:f}},"5.js":function(f,a,b){function c(a){"string"==typeof a&&(a=b.l10n.token(a));if(!a)return null;var c=a.basisObjectId,d=n[c];d||(d=n[c]=new ba(new Aa(a)));return d}function d(){this.destroyBuilder&&j.call(this);for(var a=0,b;b=this.attaches_[a];a++)b.handler.call(b.context)}function e(a){for(var b=[],c=0;c<a.length;c++)b.push(Array.isArray(a[c])?
e(a[c]):a[c]);return b}function g(a,c,d,g){var f=a,$;"function"==typeof f&&(c="baseURI"in a?a.baseURI:c,$="url"in a?a.url:$,f=f());f instanceof b.Token&&(c="baseURI"in a?a.baseURI:c,$="url"in a?a.url:$,f=f.get());if(Array.isArray(f))d&&(f=e(f)),f={tokens:f};else if("object"!=typeof f||!Array.isArray(f.tokens))f=String(f);"string"==typeof f&&(f=F(f,c,g,$));return f}function j(){var a=g(this.source,this.baseURI),c=this.destroyBuilder,d=this.builder(a.tokens,this),e=this.deps_;if(e){this.deps_=null;
for(var f=0,$;$=e[f];f++)$.bindingBridge.detach($,j,this)}if(a.deps&&a.deps.length){this.deps_=e=a.deps;for(f=0;$=e[f];f++)$.bindingBridge.attach($,j,this)}this.createInstance=d.createInstance;this.clearInstance=d.destroyInstance;this.getBinding=function(){return{names:[],events:{},handler:null,sync:function(){}}};this.destroyBuilder=d.destroy;if(a=a.resources&&0<a.resources.length?a.resources:null)for(f=0;d=a[f];f++)qa[t.extname(d)]&&b.resource(d)().startUse();if(this.resources)for(f=0;d=this.resources[f];f++)qa[t.extname(d)]&&
b.resource(d)().stopUse();this.resources=a;c&&c(!0)}function H(){var a=b.array(arguments).join("."),c=ta[a];c||(c=new la("",a),ta[a]=c);return c}function q(a,b){for(var c=[],d={},e=[],f=0;f<b.length;f++)d[b[f]]||(d[b[f]]=!0,e.push(b[f]));c.source=e.join("/");d={base:!0};for(e=0;e<b.length;e++)f=b[e]||"base",f==a||d[f]||(h(f),d[f]=!0,c.push(f),b.splice.apply(b,[e+1,0].concat(L[f].fallback)));c.unshift(a);"base"!=a&&c.push("base");c.value=c.join("/");return c}function p(a,b){for(var c=L[a].sourcesList,
d=0,e;e=c[d];d++)if(e.hasOwnProperty(b))return e[b];return""}function h(a){a||(a="base");if(L[a])return L[a].theme;if(!/^([a-z0-9\_\-]+)$/.test(a))throw 9;var c={},d=[c],e=new wa;L[a]={theme:e,sources:c,sourcesList:d,fallback:[]};var f=function(b,d){!1==b in c&&(c[b]=d,-1!=L[ua].fallback.indexOf(a)&&H(b).set());return H(b)};b.object.extend(e,{name:a,fallback:function(b){if(e!==xa&&0<arguments.length){var c="string"==typeof b?b.split("/"):[],d={},c=q(a,c);if(L[a].fallback.source!=c.source){L[a].fallback.source=
c.source;for(var f in L){var g=L[f].fallback,c=q(f,(g.source||"").split("/"));if(c.value!=g.value){d[f]=!0;L[f].fallback=c;g=L[f].sourcesList;g.length=c.length;for(var Ha=0;Ha<g.length;Ha++)g[Ha]=L[c[Ha]].sources}}}for(f in d)if(-1!=L[ua].fallback.indexOf(f)){c=void 0;for(c in ta)H(c).set();break}}c=L[a].fallback.slice(1);c.source=L[a].fallback.source;return c},define:function(a,b){"function"==typeof a&&(a=a());if("string"==typeof a){if("object"==typeof b){var c=a,d=b,g={},sa;for(sa in d)d.hasOwnProperty(sa)&&
(g[sa]=f(c+"."+sa,d[sa]));return g}return 1==arguments.length?H(a):f(a,b)}if("object"==typeof a){d=a;for(c in d)d.hasOwnProperty(c)&&f(c,d[c]);return e}},apply:function(){if(a!=ua){ua=a;for(var b in ta)H(b).set();b=0;for(var c;c=ya[b];b++)c.fn.call(c.context,a)}return e},getSource:function(b){return b?p(a,t):c[t]},drop:function(b){c.hasOwnProperty(b)&&(delete c[b],-1!=L[ua].fallback.indexOf(a)&&H(b).set())}});L[a].fallback=q(a,[]);d.push(L.base.sources);return e}b.require("3.js");f=this.path;var B=
b.Class,A=b.cleaner,t=b.path,O=b.array.search,ja=b.array.add,I=b.array.remove,W=[],x={},C=1,y=2,z=0,s=1,D=3,m=4,N={4:"class",5:"style"},J={"class":4,style:5},G=/((?:.|[\r\n])*?)(\{(?:l10n:([a-zA-Z_][a-zA-Z0-9_\-]*(?:\.[a-zA-Z_][a-zA-Z0-9_\-]*)*(?:\.\{[a-zA-Z_][a-zA-Z0-9_\-]*\})?)\})?|<(\/|!--(\s*\{)?)?|$)/g,M=/([a-z_][a-z0-9\-_]*)(:|\{|\s*(\/?>)?)/ig,Q=/([a-z_][a-z0-9_\-]*)(:|\{|=|\s*)|(\/?>)/ig,Y=/(.|[\r\n])*?--\x3e/g,X=/([a-z_][a-z0-9_\-]*(?::[a-z_][a-z0-9_\-]*)?)>/ig,K=/([a-z_][a-z0-9_]*)(\||\}\s*)/ig,
k=/"((?:(\\")|[^"])*?)"\s*/g,u=/^/g,Z={text:/((?:.|[\r\n])*?)(?:<\/b:text>|$)/g},P=/\\"/g,l=function(a){var b=[],c=[],d={childs:b},e,f,g,h=!1,j=0,m,r=G,l=0,w;for(a=a.trim();l<a.length||r!=G;)if(e=r.lastIndex=l,w=r.exec(a),!w||w.index!==l)if(r==K&&f&&8==f.type)r=Y;else{h&&(d=c.pop());f&&d.childs.pop();if(f=d.childs.pop())3==f.type&&!f.refs?j-="len"in f?f.len:f.value.length:d.childs.push(f);h=!1;r=G}else{l=r.lastIndex;switch(r){case G:m=e+w[1].length;j!=m&&(e=j==e?w[1]:a.substring(j,m),(f=e.replace(/\s*(\r\n?|\n\r?)\s*/g,
""))&&d.childs.push({type:3,len:e.length,value:f}));j=m;w[3]?d.childs.push({type:3,refs:["l10n:"+w[3]],value:"{l10n:"+w[3]+"}"}):"{"==w[2]?(g=l-1,d.childs.push(f={type:3}),r=K):w[4]?"/"==w[4]?(f=null,r=X):(d.childs.push(f={type:8}),w[5]?(g=l-w[5].length,r=K):(g=l,r=Y)):w[2]&&(h=!0,c.push(d),d.childs.push(f={type:C,attrs:[],childs:[]}),d=f,r=M);break;case X:w[1]!==(d.prefix?d.prefix+":":"")+d.name?d.childs.push({type:3,value:"</"+w[0]}):d=c.pop();r=G;break;case M:case Q:if(":"==w[2]){f.prefix?r=u:
f.prefix=w[1];break}w[1]&&(f.name=w[1],f.type==y&&d.attrs.push(f));if("{"==w[2]){r=f.type==C?K:u;break}if(w[3]){h=!1;if("/>"==w[3])d=c.pop();else if("b"==d.prefix&&d.name in Z){r=Z[d.name];break}r=G;break}if("="==w[2]){r=k;break}f={type:y};r=Q;break;case Y:f.value=a.substring(g,l-3);r=G;break;case K:f.refs?f.refs.push(w[1]):f.refs=[w[1]];"|"!=w[2]&&(3==f.type?(l-=w[2].length-1,f.value=a.substring(g,l),r=G):8==f.type?r=Y:f.type==y&&"="==a[l]?(l++,r=k):(f={type:y},r=Q));break;case k:f.value=w[1].replace(P,
'"');f={type:y};r=Q;break;case Z.text:d.childs.push({type:3,value:w[1]});d=c.pop();r=G;break;default:throw 7;}r==G&&(j=l)}j!=l&&d.childs.push({type:3,value:a.substring(j,l)});b.templateTokens=!0;return b},n={},Aa=b.Token.subclass({className:f+".L10nProxyToken",token:null,url:"",init:function(a){this.url=a.dictionary.resource.url+":"+a.name;this.token=a;this.set();a.attach(this.set,this)},set:function(){return b.Token.prototype.set.call(this,"markup"==this.token.type?'<span class="basisjs-markup" data-basisjs-l10n="'+
(this.token.name+"@"+this.token.dictionary.resource.url)+'">'+String(this.token.value)+"</span>":"")},destroy:function(){b.Token.prototype.destroy.call(this);this.token=null}}),F,Ca=function(a){return(a.prefix?a.prefix+":":"")+a.name},da=function(a,b){ga[b]||("#"==b.charAt(0)?ga[b]=String.fromCharCode("x"==b.charAt(1)||"X"==b.charAt(1)?parseInt(b.substr(2),16):b.substr(1)):ia&&(ia.innerHTML=a,ga[b]=ia.firstChild?ia.firstChild.nodeValue:a));return ga[b]||a},Da=function(a){a=a.refs;return!a||!a.length?
0:a},S=function(a,b){function c(a){for(var b,d=[],e=[],f={},g=0;g<a.length;g++)g%2?(b=a[g],f[b]||(f[b]=d.length,d.push(b)),e.push(f[b])):a[g]&&e.push(a[g].replace(V,da));return[d,e]}var d=0,e,f;if(b)switch(a){case "class":if(e=b.match(ca)){for(var g=[],d=[],h=0,l;l=e[h];h++)(f=l.match(ea))?d.push([f[1]||"",f[2]]):g.push(l);b=g.join(" ")}break;case "style":g=[];d=[];if(e=b.match(fa))for(h=0;l=e[h];h++)f=l.match(ha),l=f[1],b=f[2].trim(),f=b.split(ka),1<f.length?(f=c(f),f.push(l),d.push(f)):g.push(l+
": "+b.replace(V,da));g.push("");b=g.join(";");break;default:e=b.split(pa),1<e.length?d=c(e):b=b.replace(V,da)}d&&!d.length&&(d=0);return{binding:d,value:b,type:J[a]||2}},v=function(a,b,c){a=a.attrs;for(var d=[],e,f=0,g;g=a[f];f++)if("b"==g.prefix)switch(g.name){case "ref":g=(g.value||"").trim().split(/\s+/);for(e=0;e<g.length;e++)T(b,g[e])}else if(e=g.name.match(/^event-(.+)$/))d.push(e[1]==g.value?[6,e[1]]:[6,e[1],g.value]);else{e=S(g.name,g.value);var h=[e.type,e.binding,Da(g)];2==e.type&&h.push(Ca(g));
e.value&&(!c||!e.binding||2!=e.type)&&h.push(e.value);d.push(h)}return d.length?d:0},T=function(a,b){a[2]||(a[2]=[]);ja(a[2],b);"element"!=b&&(a[s]=1==a[2].length?b:0)},za=function(a,b){var c=a[2].indexOf(b);if(-1!=c){var d=a[s]&&"number"==typeof a[s];a[2].splice(c,1);d&&c==a[s]-1&&(a[s]=b);a[2].length?d&&(a[s]-=c<a[s]-1):a[2]=0}},E=function(a){var b={};if(a.attrs)for(var c=0,d;d=a.attrs[c];c++)b[Ca(d)]=d.value;return b},xb=function(a,b){for(var c=0;c<b.length;c++)ja(a,b[c])},Ba=function(a,d,e){function f(a,
b,c){a=E(a);b&&(a.name=b);if(a.name&&aa.test(a.name)){var d=K[a.ref||"element"];if(d&&d.token[z]==C){b=d.token;var g=J[a.name],k=m-!!g,h=b&&O(b,a.name,function(a){return g?N[a[z]]:a[D]});!h&&"remove"!=c&&(h=[g||y,0,0],g||h.push(a.name),h.push(""),b||(b=[],d.token.push(b)),b.push(h));d="class"==a.name||"style"==a.name;switch(c){case "set":c=S(a.name,a.value);h[s]=c.binding;!e.optimizeSize||!h[s]||d?h[k]=c.value||"":h.length=k;if(d&&!h[s]&&!h[k]){I(b,h);break}break;case "append":c=S(a.name,a.value);
if(c.binding){var l=h[s];if(l){if("style"==a.name){for(var sa={},j=0,n;n=c.binding[j];j++)sa[n[2]]=!0;n=j=0;for(var u;u=l[j];j++)sa[u[2]]||(l[n++]=u);l.length=n}l.push.apply(l,c.binding)}else h[s]=c.binding}c.value&&(h[k]+=(h[k]&&"class"==a.name?" ":"")+c.value);if(d&&!h[s]&&!h[k]){I(b,h);break}break;case "remove":h&&I(b,h)}}}}for(var h=[],j=0,k,u;k=a[j];j++){var n=Da(k),q=n&&1==n.length?n[0]:0;switch(k.type){case C:if("b"==k.prefix){var r=E(k);switch(k.name){case "resource":case "style":r.src&&d.resources.push(t.resolve(d.baseURI+
r.src));break;case "l10n":r.src&&(d.dictURI=t.relative(b.path.baseURI,d.baseURI+r.src));break;case "define":if("name"in r&&!d.defines[r.name])switch(r.type){case "bool":d.defines[r.name]=["true"==r["default"]?1:0];break;case "enum":k=r.values?r.values.trim().split(" "):[],d.defines[r.name]=[k.indexOf(r["default"])+1,k]}break;case "text":k=k.childs[0];a[j--]=b.object.extend(k,{refs:(r.ref||"").trim().split(/\s+/),value:"notrim"in r?k.value:k.value.replace(/^\s*[\r\n]+|[\r\n]\s*$/g,"")});break;case "include":if(q=
r.src){q=(n=/^#\d+$/.test(q))?q.substr(1):q;q=n?W[q]:/^[a-z0-9\.]+$/i.test(q)&&!/\.tmpl$/.test(q)?H(q):b.resource(t.resolve(d.baseURI+q));if(!q)continue;if(-1==ma.indexOf(q)){ja(d.deps,q);ma.push(q);n?(q.source.bindingBridge&&ja(d.deps,q.source),n=g(q.source,q.baseURI,!0,e)):n=g(q.get(),q.url?t.dirname(q.url)+"/":"",!0,e);ma.pop();n.resources&&!1=="no-style"in r&&xb(d.resources,n.resources);n.deps&&xb(d.deps,n.deps);var K=R(n.tokens),q=(k.childs||[]).slice();r["class"]&&q.push({type:C,prefix:"b",
name:"append-class",attrs:[{type:y,name:"value",value:r["class"]}]});r.id&&q.push({type:C,prefix:"b",name:"set-attr",attrs:[{type:y,name:"name",value:"id"},{type:y,name:"value",value:r.id}]});r.ref&&K.element&&r.ref.trim().split(/\s+/).map(function(a){T(K.element.token,a)});for(var r=0,w;w=q[r];r++)if(w.type==C&&"b"==w.prefix)switch(w.name){case "replace":case "before":case "after":var p=E(w);if(k=p.ref&&K[p.ref]){var p=k.owner.indexOf(k.token),X;-1!=p&&(p+="after"==w.name,X="replace"==w.name,k.owner.splice.apply(k.owner,
[p,X].concat(Ba(w.childs,d,e)||[])))}break;case "prepend":case "append":p=E(w);if((k=(k=(k="ref"in p?p.ref:"element")&&K[k])&&k.token)&&k[z]==C)p=Ba(w.childs,d,e)||[],"prepend"==w.name?k.splice.apply(k,[4,0].concat(p)):k.push.apply(k,p);break;case "attr":case "set-attr":f(w,!1,"set");break;case "append-attr":f(w,!1,"append");break;case "remove-attr":f(w,!1,"remove");break;case "class":case "append-class":f(w,"class","append");break;case "set-class":f(w,"class","set");break;case "remove-class":f(w,
"class","remove");break;case "add-ref":p=E(w);(k=(k=(k="ref"in p?p.ref:"element")&&K[k])&&k.token)&&p.name&&T(k,p.name);break;case "remove-ref":p=E(w),(k=(k=(k="ref"in p?p.ref:"element")&&K[k])&&k.token)&&za(k,p.name||p.ref)}else n.tokens.push.apply(n.tokens,Ba([w],d,e)||[]);K.element&&za(K.element.token,"element");h.push.apply(h,n.tokens)}}}continue}u=[1,q,n,Ca(k)];u.push.apply(u,v(k,u,e.optimizeSize)||[]);u.push.apply(u,Ba(k.childs,d,e)||[]);break;case 3:n&&(2==n.length&&O(n,"element"))&&(q=n[+!n.lastSearchIndex]);
if(q&&(r=Ya(q,d.dictURI).split(/[:@\{]/),"l10n"==r[0]&&3==r.length))if(r[2]){if(r=r.slice(1).join("@"),r=b.l10n.token(r),w=c(r),d.l10nResolved=!0,w&&"markup"==r.type){a[j--]=l('<b:include src="#'+w.templateId+'"/>')[0];continue}}else I(n,q),0==n.length&&(n=null),q=0,k.value=k.value.replace(/\}$/,"@undefined}");u=[3,q,n];(!n||k.value!="{"+n.join("|")+"}")&&u.push(k.value.replace(V,da));break;case 8:if(e.optimizeSize&&!q&&!n)continue;u=[8,q,n];e.optimizeSize||(!n||k.value!="{"+n.join("|")+"}")&&u.push(k.value.replace(V,
da))}for(;0===u[u.length-1];)u.pop();h.push(u)}return h.length?h:0},Ya=function(a,b){if("string"!=typeof a)return a;var c=a.split(":");2==c.length&&("l10n"==c[0]&&-1==c[1].indexOf("@"))&&(c[1]=c[1]+"@"+b);return c.join(":")},R=function(a,b,c,d){c||(c={});d=d||0;for(var e;e=a[d];d++)if(6!=e[z]){var f=e[2];if(f)for(var g=f.length-1,k;k=f[g];g--)-1!=k.indexOf(":")?za(e,k):(c[k]&&za(c[k].token,k),e[s]==k&&(e[s]=g+1),c[k]={owner:a,token:e});switch(e[z]){case 3:e[s]=Ya(e[s],b);break;case y:if(e[s]){e=e[s][0];
for(g=0;g<e.length;g++)e[g]=Ya(e[g],b)}break;case C:R(e,b,c,4)}}return c},yb=function(a,b,c,d){var e=0;d=d||0;for(var f;f=a[d];d++)if(f[z]==C&&(e+=yb(f,b,c,4)),4==f[z]||f[z]==y&&"class"==f[D]){var g=f[s],k=m-(4==f[z]);if(g){for(var h=(f[k]||"").trim().split(" "),l=0,j;j=g[l];l++)if(!(2<j.length)){var n=j[1].split(":").pop(),u=b.defines[n];u?(j.push.apply(j,u),u.used=!0,u[0]&&(1==u.length?ja(h,j[0]+n):ja(h,j[0]+u[1][u[0]-1]))):e++}f[k]=h.join(" ");c.optimizeSize&&!f[k]&&(f.length=k)}}return e},aa=
/^[a-z_][a-z0-9_\-]*$/i,ca=/(\S+)/g,ea=/^([a-z_][a-z0-9_\-]*)?\{((anim:)?[a-z_][a-z0-9_\-]*)\}$/i,fa=/\s*[^:]+?\s*:(?:\(.*?\)|".*?"|'.*?'|[^;]+?)+(?:;|$)/gi,ha=/\s*([^:]+?)\s*:((?:\(.*?\)|".*?"|'.*?'|[^;]+?)+);?$/i,ka=/\{([a-z_][a-z0-9_]*)\}/i,pa=/\{([a-z_][a-z0-9_]*|l10n:[a-z_][a-z0-9_]*(?:\.[a-z_][a-z0-9_]*)*(?:\.\{[a-z_][a-z0-9_]*\})?)\}/i,V=/&([a-z]+|#[0-9]+|#x[0-9a-f]{1,4});?/gi,ga=b.NODE_ENV?require("./template/htmlentity.json"):{},ia=!b.NODE_ENV?document.createElement("div"):null,ma=[];F=function(a,
c,d,e){d=d||{};var f=[],g={sourceUrl:e,baseURI:c||"",tokens:null,resources:[],deps:[],defines:{},unpredictable:!0,warns:f};g.dictURI=e?b.path.relative(b.path.baseURI,g.baseURI+b.path.basename(e,b.path.extname(e))+".l10n"):c||"";a.templateTokens?a.warns&&f.push.apply(f,a.warns):a=l(""+a);g.tokens=Ba(a,g,d);g.tokens||(g.tokens=[[3,0,0,""]]);T(g.tokens[0],"element");R(g.tokens,g.dictURI);g.unpredictable=!!yb(g.tokens,g,d);delete g.defines;delete g.l10nResolved;f.length||(g.warns=!1);return g};var qa=
{".css":!0},ba=B(null,{className:f+".Template",__extend__:function(a){return a instanceof ba?a:a instanceof oa?new va(a):new ba(a)},source:"",baseURI:"",init:function(a){if(4096==W.length)throw 8;this.attaches_=[];this.setSource(a||"");this.templateId=W.push(this)-1},bindingBridge:{attach:function(a,b,c){for(var d=0,e;e=a.attaches_[d];d++)if(e.handler==b&&e.context==c)return;a.attaches_.push({handler:b,context:c})},detach:function(a,b,c){for(var d=0,e;e=a.attaches_[d];d++)if(e.handler==b&&e.context==
c){a.attaches_.splice(d,1);break}},get:function(){}},createInstance:function(a,b,c,d,e){j.call(this);return this.createInstance(a,b,c,d,e)},clearInstance:function(){},getBinding:function(a){j.call(this);return this.getBinding(a)},setSource:function(a){var c=this.source;if(c!=a){if("string"==typeof a){var e=a.match(/^([a-z]+):/);if(e){var f=e[1];a=a.substr(e[0].length);switch(f){case "file":a=b.resource(a);break;case "id":var g=a;a=function(){var a=document.getElementById(g);return a&&"SCRIPT"==a.tagName&&
"text/basis-template"==a.type?a.textContent||a.text:""};break;case "tokens":a=b.string.toObject(a);a.isDecl=!0;break;case "path":a=H(a)}}}if(c&&c.bindingBridge){if(e=c.url&&x[c.url])I(e,this),e.length||delete x[c.url];this.baseURI="";this.source.bindingBridge.detach(c,d,this)}a&&a.bindingBridge&&(a.url&&(this.baseURI=t.dirname(a.url)+"/",x[a.url]||(x[a.url]=[]),ja(x[a.url],this)),a.bindingBridge.attach(a,d,this));this.source=a;d.call(this)}},destroy:function(){this.destroyBuilder&&this.destroyBuilder();
this.source=this.resources=this.getBinding=this.createInstance=this.attaches_=null}}),oa=function(a){b.object.extend(this,a)},va=b.Class(null,{className:f+".TemplateSwitcher",ruleRet_:null,templates_:null,templateClass:ba,ruleEvents:null,rule:String,init:function(a){this.ruleRet_=[];this.templates_=[];this.rule=a.rule;if((a=a.events)&&a.length){this.ruleEvents={};for(var b=0,c;c=a[b];b++)this.ruleEvents[c]=!0}A.add(this)},resolve:function(a){a=this.rule(a);var b=this.ruleRet_.indexOf(a);-1==b&&(this.ruleRet_.push(a),
b=this.templates_.push(new this.templateClass(a))-1);return this.templates_[b]},destroy:function(){this.ruleRet_=this.templates_=this.rule=null}}),wa=B(null,{className:f+".Theme",get:H}),la=B(b.Token,{className:f+".SourceWrapper",path:"",url:"",baseURI:"",init:function(a,c){this.path=c;b.Token.prototype.init.call(this,"")},get:function(){return this.value&&this.value.bindingBridge?this.value.bindingBridge.get(this.value):this.value},set:function(){var a=p(ua,this.path);this.value!=a&&(this.value&&
this.value.bindingBridge&&this.value.bindingBridge.detach(this.value,la.prototype.apply,this),this.url=(this.value=a)&&a.url||"",this.baseURI=("object"==typeof a||"function"==typeof a)&&"baseURI"in a?a.baseURI:t.dirname(this.url)+"/",this.value&&this.value.bindingBridge&&this.value.bindingBridge.attach(this.value,la.prototype.apply,this),this.apply())},destroy:function(){this.baseURI=this.url=null;this.value&&this.value.bindingBridge&&this.value.bindingBridge.detach(this.value,this.apply,this);b.Token.prototype.destroy.call(this)}}),
L={},ta={},xa=h(),ua="base",ya=[];A.add({destroy:function(){for(var a in ta)ta[a].destroy();ta=L=null;a=0;for(var b;b=W[a];a++)b.destroy();W=null}});a.exports={DECLARATION_VERSION:2,TYPE_ELEMENT:C,TYPE_ATTRIBUTE:y,TYPE_ATTRIBUTE_CLASS:4,TYPE_ATTRIBUTE_STYLE:5,TYPE_ATTRIBUTE_EVENT:6,TYPE_TEXT:3,TYPE_COMMENT:8,TOKEN_TYPE:z,TOKEN_BINDINGS:s,TOKEN_REFS:2,ATTR_NAME:D,ATTR_VALUE:m,ATTR_NAME_BY_TYPE:N,ELEMENT_NAME:3,ELEMENT_ATTRS:4,ELEMENT_CHILDS:5,TEXT_VALUE:3,COMMENT_VALUE:3,L10nProxyToken:Aa,TemplateSwitchConfig:oa,
TemplateSwitcher:va,Template:ba,SourceWrapper:la,switcher:function(a,c){var d=b.array(arguments);c=d.pop();return new oa({rule:c,events:d.join(" ").trim().split(/\s+/)})},tokenize:l,getDeclFromSource:g,makeDeclaration:F,getL10nTemplate:c,Theme:wa,theme:h,getThemeList:function(){return b.object.keys(L)},currentTheme:function(){return L[ua].theme},setTheme:function(a){return h(a).apply()},onThemeChange:function(a,b,c){ya.push({fn:a,context:b});c&&a.call(b,ua)},define:xa.define,get:H,getPathList:function(){return b.object.keys(ta)}}},
"6.js":function(f,a,b){b.require("5.js");var c=b.template.TYPE_ELEMENT,d=b.template.TYPE_ATTRIBUTE,e=b.template.TYPE_TEXT,g=b.template.TYPE_COMMENT,j=b.template.TOKEN_TYPE,p=b.template.TOKEN_BINDINGS,q=b.template.TOKEN_REFS,t=b.template.ATTR_NAME,h=b.template.ATTR_NAME_BY_TYPE,B=b.template.ELEMENT_NAME,A=b.template.ELEMENT_ATTRS,I={},O,R=function(a,b){for(var c=0,d;d=a[c];c++)-1==d.indexOf(":")&&y.push(d+":"+b)},M=function(a){var b=C.length,b=x[b]||"r"+b;C.push(b+"="+a);return b},W=function(a,b,d){for(var f,
u,m,P,l=0,n=0,G=0,F;F=a[l];l++,n++,P=!1){l?a[l+1]?(F[j]==a[l-1][j]&&F[j]==e&&G++,f=b+".childNodes["+(d?n:n+(G?" + "+G+" * TEXT_BUG":""))+"]"):f=b+".lastChild":f=b+".firstChild";if(u=F[q])P=!0,f=M(f),R(u,f);F[p]&&(F[p]&&"number"==typeof F[p]&&(F[p]=F[q][F[p]-1]),P||(P=!0,f=M(f)),z.push([F[j],f,F[p]]));if(F[j]==c){m=-1;b==D&&s.push(f+".basisTemplateId");P||(f=M(f),m=C.length);for(var y=[],J=[],x=A,S;S=F[x];x++)S[j]==c||S[j]==e||S[j]==g?J.push(S):y.push(S);for(var x=0,v;v=y[x];x++)if(6!=v[j]){S=h[v[j]]||
v[t];if(u=v[q])P=!0,R(u,M(f+'.getAttributeNode("'+S+'")'));if(u=v[p])switch(P=!0,S){case "class":v=0;for(var T;T=u[v];v++)T=[2,f,T[1],S,T[0]].concat(T.slice(2)),z.push(T);break;case "style":for(v=0;T=u[v];v++)for(var za=0,E;E=T[0][za];za++)z.push([2,f,E,S,T[0],T[1],T[2]]);break;default:for(v=0;E=u[0][v];v++)z.push([2,f,E,S,u[0],u[1],F[B]])}}J.length&&W(J,f,d);!P&&m==C.length&&C.pop()}}},x="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),C,y,z,s,D;O=function(a,b,c){C=[];y=[];z=[];s=
[];D=b||"_";W(a,D,c);return{path:C,ref:y,binding:z,markedElementList:s}};var m,N=function(a,b,c){var d=[],e=a[5];a=a[4];for(var f,g,h=0;h<e.length;h++)if("string"==typeof e[h])d.push('"'+e[h].replace(/"/g,'\\"')+'"');else if(f=a[e[h]],g=f.indexOf(":"),-1==g)d.push("l10n"==b?'"{'+f+'}"':"bool"==b?"(__"+f+'||"")':"__"+f);else{var j=null,m=f.substr(g+1).replace(J,function(a,b){j=b;return""});j?d.push(c[f.substr(g+1)]):d.push('__l10n["'+m+'"]')}1==d.length&&d.push('""');return d.join("+")},J=/\.\{([a-zA-Z_][a-zA-Z0-9_\-]*)\}/,
G={disabled:"*",checked:["input"],value:["input","textarea"],minlength:["input"],maxlength:["input"],readonly:["input"],selected:["option"]},V={disabled:!0,checked:!0,selected:!0,readonly:!0},Q={1:"bind_element",3:"bind_textNode",8:"bind_comment"};m=function(a){function f(a){B[a]=!0;h.push(j+"="+a+"("+b.array(arguments,1)+");")}for(var g={},h,j,m=[],q=[],l,n,p=[],s={},H=1,B={resolve:!0},A,C=0,v;v=a[C];C++){var z=v[0],y=v[1],E=v[2];if(-1==["set","templateId_"].indexOf(E)){var x=E.split(":");(A="anim"==
x[0])&&(E=x[1]);h=g[E];j="_"+C;l="__"+E;if("l10n"==x[0]&&x[1]){var x=x[1],D=null,I=x.replace(J,function(a,b){D=b;return""});if(D){!1==x in s&&(l="$l10n_"+H++,s[x]=l,p.push('set("'+l+'",'+l+")"),m.push(l+'=tools.l10nToken("'+I+'").computeToken()'),h=g[D],h||(h=g[D]=[],m.push("__"+D)),h.push(l+".set(__"+D+");"));E=s[x];j="_"+C;l="__"+E;h=g[E];h||(h=g[E]=[],m.push(l));z==e?(m.push(j+"="+y),f(Q[z],y,j,"value")):(l='"'+v[t]+'"',m.push(j),f("bind_attr",y,l,j,N(v,!1,s)));continue}n||(n={});g[I]||(g[I]=[],
n[I]=[]);h=g[I];h.l10n=!0;if(z==e){n[I].push(y+".nodeValue=value;");h.push(y+'.nodeValue=__l10n["'+I+'"]'+(D?"[__"+D+"]":"")+";");continue}else n[I].push("bind_attr("+[y,'"'+v[t]+'"',"NaN",N(v,"l10n",s)]+");")}h||(h=g[E]=[],m.push(l));if(z!=d)if(h.nodeBind)switch(z){case c:f(Q[z],y,y,"value!==null?String(value):null");break;case e:h.push(y+".nodeValue=value;")}else m.push(j+"="+y),f(Q[z],y,j,"value"),h.nodeBind=j;else switch(l=v[t],l){case "class":l="";x="value";z=v[4];x=v.length;if(6<=x)if(6==x||
"string"==typeof v[6])6==x?(x='value?"'+E+'":""',v[5]&&(l=z+E)):(z="",x='value?"'+v[6]+'":""',v[5]&&(l=v[6]));else{if(!v[6].length)continue;7==x?(x=v[6].map(function(a){return'value=="'+a+'"'}).join("||")+'?value:""',v[5]&&(l=z+v[6][v[5]-1])):(z="",x=v[6].map(function(a,b){return'value=="'+a+'"?"'+this[b]+'"'},v[7]).join(":")+':""',v[5]&&(l=v[7][v[5]-1]))}else x='typeof value=="string"||typeof value=="number"?value:(value?"'+E+'":"")';m.push(j+'="'+l+'"');f("bind_attrClass",y,j,x,'"'+z+'"',A);break;
case "style":m.push(j+'=""');f("bind_attrStyle",y,'"'+v[6]+'"',j,N(v,!1,s));break;default:if(A=G[l],m.push(j+"="+N(v,"l10n",s)),f("bind_attr",y,'"'+l+'"',j,A&&V[l]?N(v,"bool",s)+'?"'+l+'":""':N(v,!1,s)),A&&("*"==A||-1!=A.indexOf(v[6].toLowerCase())))h.push("if("+y+"."+l+"!="+j+")"+y+"."+l+"="+(V[l]?"!!"+j:j)+";")}}}q.push(';function set(bindName,value){if(typeof bindName=="string")value=resolve.call(instance,bindName,value,Attaches);switch(bindName){');for(E in g)q.push('case"'+E+'":'+(g[E].nodeBind?
"case "+g[E].nodeBind+":":"")+(g[E].l10n?g[E].join(""):"if(__"+E+"!==value){__"+E+"=value;"+g[E].join("")+"}")+"break;");q.push("}}");a=[];for(var M in B)a.push(M+"=tools."+M);return{keys:b.object.keys(g).filter(function(a){return-1==a.indexOf("@")}),tools:a,vars:m,set:q.join(""),l10n:n,l10nCompute:p}};a.exports={getFunctions:function(a,c,d,e,f){if(c=I[d&&b.path.relative(d)])return c;a=O(a,"_",f);f=m(a.binding);c=a.markedElementList.join("=");d={keys:f.keys,l10nKeys:b.object.keys(f.l10n)};if(f.l10n){e=
[];for(var g in f.l10n)e.push('case"'+g+'":if(value==null)value="{'+g+'}";__l10n[token]=value;'+f.l10n[g].join("")+"break;");d.createL10nSync=new Function("_","__l10n","bind_attr","TEXT_BUG","var "+a.path+";return function(token, value){switch(token){"+e.join("")+"}}\n")}d.createInstance=new Function("tid","map","build","tools","__l10n","TEXT_BUG","var getBindings=tools.createBindingFunction(["+f.keys.map(function(a){return'"'+a+'"'})+"]),"+(f.tools.length?f.tools+",":"")+"Attaches=function(){};Attaches.prototype={"+
f.keys.map(function(a){return a+":null"})+"};return function createInstance_(id,obj,onAction,onRebuild,bindings,bindingInterface){var _=build(),"+a.path.concat(f.vars)+",instance={context:obj,action:onAction,rebuild:onRebuild,handler:null,bindings:bindings,bindingInterface:bindingInterface,attaches:null,tmpl:{"+[a.ref,"templateId_:id","set:set"]+"}}"+(c?";if(obj||onAction)"+c+"=(id<<12)|tid":"")+f.set+";instance.handler=bindings?getBindings(bindings,obj,set,bindingInterface):null;"+f.l10nCompute+
";return instance}");return d}}}},p=this,t=function(f,a){for(var b in a)f[b]=a[b];return f},R=function(f,a){for(var b in a)!1==b in f&&(f[b]=a[b]);return f},zb=function(f,a){var b={};if(!a)return t(b,f);for(var c=0,d;d=a[c++];)d in f&&(b[d]=f[d]);return b},Za=function(){return ea(arguments).reduce(t,{})},Ab=function(f,a,b){var c=[],d;for(d in f)c.push(a.call(b,d,f[d]));return c},$a=function(f){return f},M=function(){},ab=function(f,a){if(fa.extProto)for(var b in a)f.prototype[b]=function(b){return function(){var d=
[this];Array.prototype.push.apply(d,arguments);return a[b].apply(a,d)}}(b,f.name)},ea=function(f,a){if(null!=f){var b=f.length;if("undefined"==typeof b||"[object Function]"==Ja.call(f))return[f];a||(a=0);if(0<b-a){for(var c=[],d=0,e=a;e<b;)c[d++]=f[e++];return c}}return[]},Bb=function(f,a,b){for(var c=[],d="function"==typeof a,e=0;e<f;e++)c[e]=d?a.call(b,e,c):a;return c},A=p.document,Ja=Object.prototype.toString,aa,Yb=1,Zb=/^[a-z$_][a-z$_0-9]*(\.[a-z$_][a-z$_0-9]*)*$/i,Ka=[],Cb={},Db={};aa=function(f,
a){var b,c,d;if(!f||f===bb)return bb;if("function"==typeof f)(d=f.basisGetterId_)?b=Ka[Math.abs(d)-1]:(b=function(a){return f(a)},b.base=f,b.__extend__=aa,d=Ka.push(b),f.basisGetterId_=-d,b.basisGetterId_=d);else if(b=Cb[f])d=b.basisGetterId_;else{if(Zb.test(f)){var e=f.split("."),g=e[0],j=e[1],p=e[2];switch(e.length){case 1:d=function(a){return null!=a?a[g]:a};break;case 2:d=function(a){return null!=a?a[g][j]:a};break;case 3:d=function(a){return null!=a?a[g][j][p]:a};break;default:d=function(a){if(null!=
a){a=a[g][j][p];for(var b=3,c;c=e[b];b++)a=a[c]}return a}}b=d}else b=new Function("object","return object != null ? object."+f+" : object");b.base=f;b.__extend__=aa;d=Ka.push(b);b.basisGetterId_=d;Cb[f]=b}c=null!=a&&typeof a;if(!c)return b;var q=Db[d],t;if("string"==c)t=c+a;else if("function"==c)t=a.basisModId_;else if("object"!=c)return b;if(t&&q&&q[t])return q[t];"function"==typeof b.base&&(b=b.base);switch(c){case "string":c=function(c){return La.format(a,b(c))};break;case "function":t||(t=c+Yb++,
a.basisModId_=t);c=function(c){return a(b(c))};break;default:c=function(c){return a[b(c)]}}c.base=b.base||b;c.__extend__=aa;t&&(q||(q={},Db[d]=q),q[t]=c,c.mod=a,c.basisGetterId_=Ka.push(c));return c};var bb=t(function(){},{__extend__:aa}),Ma={log:M,info:M,warn:M,error:M};"undefined"!=typeof console&&Ab(Ma,function(f){Ma[f]="bind"in Function.prototype&&"function"==typeof console[f]?Function.prototype.bind.call(console[f],console):function(){Function.prototype.apply.call(console[f],console,arguments)}});
var ka=p.setImmediate||p.msSetImmediate,oa=p.clearImmediate||p.msSetImmediate;ka&&(ka=ka.bind(p));oa&&(oa=oa.bind(p));if(!ka){var ga,Na={},cb=1,ka=function(){Na[++cb]={fn:arguments[0],args:ea(arguments,1)};ha(cb);return cb},oa=function(f){delete Na[f]};ga=function(f){var a=Na[f];if(a)try{"function"==typeof a.fn?a.fn.apply(void 0,a.args):(p.execScript||function(a){p.eval.call(p,a)})(String(a.fn))}finally{delete Na[f]}};var db=function(f){setTimeout(function(){ga(f)},0)},ha=db;if(p.process&&"function"==
typeof process.nextTick)ha=function(f){process.nextTick(function(){ga(f)})};else if(p.MessageChannel)ha=function(f){var a=new p.MessageChannel;a.port1.onmessage=function(){ga(f)};a.port2.postMessage("")};else{var eb=p.postMessage&&!p.importScripts;if(eb){var $b=p.onmessage;p.onmessage=function(){eb=!1};p.postMessage("","*");p.onmessage=$b}if(eb){var Eb=function(f){f&&f.source==p&&(f=String(f.data).split("basisjs.setImmediate")[1])&&ga(f)};p.addEventListener?p.addEventListener("message",Eb,!0):p.attachEvent("onmessage",
Eb);ha=function(f){p.postMessage("basisjs.setImmediate"+f,"*")}}else A&&"onreadystatechange"in A.createElement("script")&&(ha=function a(b){"undefined"!=typeof I&&(ha=db,I.head.ready(function(){ha=function(a){var b=A.createElement("script");b.onreadystatechange=function(){ga(a);b.onreadystatechange=null;I.remove(b);b=null};I.head.add(b)}}));ha===a?db(b):ha(b)})}}var Oa="object"==typeof process&&"[object process]"==Ja.call(process),B,Fb="",ia,O={};if(Oa){for(var ac="normalize dirname extname basename resolve relative".split(" "),
Gb=0,fb;fb=ac[Gb];Gb++)O[fb]=function(a,b){return function(){return b[a].apply(b,arguments).replace(/\\/g,"/")}}(fb,require("path"));ia=O.resolve(".")+"/"}else{var bc=/^([^\/]+:|\/)/,cc=/^([a-zA-Z0-9\-]+:)?\/\/[^\/]+/,dc=/[\?#].*$/,O={normalize:function(a){var b=[];a=(a||"").replace(cc,"").replace(dc,"").split("/");for(var c=0;c<a.length;c++)".."==a[c]?b.pop():(a[c]||!c)&&"."!=a[c]&&b.push(a[c]);return b.join("/")},dirname:function(a){return O.normalize(a).replace(/\/[^\/]*$/,"")},extname:function(a){return(a=
O.normalize(a).match(/\.[^\\\/]*$/))?a[0]:""},basename:function(a,b){var c=O.normalize(a).match(/[^\\\/]*$/),c=c?c[0]:"";b==O.extname(c)&&(c=c.substring(0,c.length-b.length));return c},resolve:function(a,b){for(var c=ea(arguments).reverse(),d=[],e=!1,g=0;!e&&g<c.length;g++)"string"==typeof c[g]&&(d.unshift(c[g]),e=bc.test(c[g]));e||d.unshift("/"==ia?"":ia);return O.normalize(d.join("/"))},relative:function(a,b){"string"!=typeof b&&(b=a,a=ia);for(var c=O.normalize(b).split(/\//),d=O.normalize(a).split(/\//),
e=0;c[e]==d[e]&&"string"==typeof d[e];)e++;for(var g="",d=d.length-e;0<d;d--)g+="../";return g+c.slice(e).join("/")}};ia=location.pathname.replace(/[^\/]+$/,"");Fb=location.protocol+"//"+location.host}O.baseURI=ia;O.origin=Fb;B=O;var fa={noConflict:!0,autoload:"0.js"},va,gb=function(a){return"function"==typeof a&&!!a.basisClassId_},ec=function(a){for(var b=this;b&&b!==a;)b=b.superClass_;return b===a},ib=function(a,b){var c=fc++;"function"!=typeof a&&(a=hb);var d=function(){};d.prototype=a.prototype;
for(var d=new d,c={basisClassId_:c,superClass_:a,extendConstructor_:!!a.extendConstructor_,isSubclassOf:ec,subclass:function(){return ib.apply(null,[j].concat(ea(arguments)))},extend:gc,__extend__:function(a){return a&&a!==jb&&("object"==typeof a||"function"==typeof a&&!gb(a))?hb.create.call(null,j,a):a},prototype:d},e=1,g;g=arguments[e];e++)c.extend(g);var j=c.extendConstructor_?function(a){this.basisObjectId=Hb.id++;var b,c;for(c in a)b=this[c],this[c]=b&&b.__extend__?b.__extend__(a[c]):a[c];this.init();
this.postInit()}:function(){this.basisObjectId=Hb.id++;this.init.apply(this,arguments);this.postInit()};d.constructor=j;for(var p in d)d[p]===jb&&(d[p]=j);t(j,c);return j},gc=function(a){var b=this.prototype;"function"==typeof a&&!gb(a)&&(a=a(this.superClass_.prototype));a.prototype&&(a=a.prototype);for(var c in a){var d=a[c],e=b[c];"className"==c||"extendConstructor_"==c?this[c]=d:b[c]=e&&e.__extend__?e.__extend__(d):d}if(kb&&a[c="toString"]!==Ja)b[c]=a[c];return this},Hb={id:1},fc=1,jb={},kb;a:{for(var rc in{toString:1}){kb=
!1;break a}kb=!0}var hb=t(ib,{className:"basis.Class",extendConstructor_:!1,prototype:{basisObjectId:0,constructor:null,init:function(){},postInit:function(){},destroy:function(){for(var a in this)hasOwnProperty.call(this,a)&&(this[a]=null);this.destroy=M}}}),lb=function(a,b){return{__extend__:function(a){if(!a||a&&a.__extend__)return a;var d=function(){};d.prototype=this;d=new d;b(d,a);return d}}.__extend__(a||{})},Ib=function(a){return lb(a,t,"extensibleProperty")};va=t(hb,{SELF:jb,create:ib,isClass:gb,
customExtendProperty:lb,extensibleProperty:Ib,nestedExtendProperty:function(a){return lb(a,function(a,c){for(var d in c){var e=a[d];a[d]=e&&e.__extend__?e.__extend__(c[d]):Ib(c[d])}},"nestedExtendProperty")},oneFunctionProperty:function(a,b){var c=function(b){var e={__extend__:c};if(b){if(b.__extend__)return b;for(var g in b)b[g]&&(e[g]=a)}return e};return c(b||{})}});var mb=va(null,{className:"basis.Token",value:null,handler:null,deferredToken:null,bindingBridge:{attach:function(a,b,c){a.attach(b,
c)},detach:function(a,b,c){a.detach(b,c)},get:function(a){return a.get()}},init:function(a){this.value=a},get:function(){return this.value},set:function(a){this.value!==a&&(this.value=a,this.apply())},attach:function(a,b){this.handler={fn:a,context:b,handler:this.handler}},detach:function(a,b){for(var c=this,d;d=c,c=c.handler;)if(c.fn===a&&c.context===b){c.fn=M;d.handler=c.handler;break}},apply:function(){for(var a=this.get(),b=this;b=b.handler;)b.fn.call(b.context,a)},deferred:function(){var a=this.deferredToken;
a||(a=this.deferredToken=new wa.DeferredToken(this.value),this.attach(a.set,a));return a},destroy:function(){this.deferredToken&&(this.deferredToken.destroy(),this.deferredToken=null);this.value=this.handler=null}}),Jb,hc=function(){var a=Pa;Pa={};Kb=null;for(var b in a)a[b].apply()},Pa={},Kb;Jb=function(a){a.basisObjectId in Pa||(Pa[a.basisObjectId]=a,Kb||ka(hc))};var ic=mb.subclass({className:"basis.DeferredToken",set:function(a){this.value!==a&&(this.value=a,Jb(this))},deferred:function(){return this}}),
la={},pa={};if("undefined"!=typeof Ia){for(var Lb in Ia)pa[B.resolve(Lb)]=Ia[Lb];Ia=null}var Qa=function(a,b){if(b||!pa.hasOwnProperty(a)){var c="";if(Oa)try{c=require("fs").readFileSync(a,"utf-8")}catch(d){}else{var e=new XMLHttpRequest;e.open("GET",a,!1);e.setRequestHeader("If-Modified-Since",(new Date(0)).toGMTString());e.setRequestHeader("X-Basis-Resource",1);e.send("");200<=e.status&&400>e.status&&(c=e.responseText)}pa[a]=c}return pa[a]},ma=function(a){a=B.resolve(a);if(!la[a]){var b=ma.extensions[B.extname(a)],
c=!1,d=!1,e,g=function(){if(c)return e;var j=Qa(a);b?d||(d=!0,e=b(j,a)):e=j;c=!0;g.apply();return e};t(g,t(new mb,{url:a,fetch:function(){return g()},toString:function(){return"[basis.resource "+a+"]"},update:function(j){j=String(j);if(!c||j!=pa[a]){pa[a]=j;if(b){if(!d||!b.updatable)return;e=b(j,a)}else e=j;c=!0;g.apply()}},reload:function(){var b=pa[a],d=Qa(a,!0);d!=b&&(c=!1,g.update(d))},get:function(b){return b?Qa(a):g()},ready:function(a,d){if(c&&(a.call(d,g()),b&&!b.updatable))return;g.attach(a,
d);return g}}));la[a]=g}return la[a]},Ra=zb(fa.path);t(ma,{getFiles:function(){var a=[],b;for(b in la)a.push(B.relative(b));return a},getSource:function(a){return Qa(B.resolve(a))},exists:function(a){return!!la.hasOwnProperty(B.resolve(a))},extensions:{".js":function(a,b){var c=nb[b];if(!c){var d=!0,c=B.dirname(b)+"/"+B.basename(b,B.extname(b)),e;for(e in fa.path){var g=fa.path[e]+e+"/";if(b.substr(0,g.length)==g){d=!1;c=c.substr(fa.path[e].length);break}}c=c.replace(/\./g,"_").replace(/\//g,".");
d&&(c="implicit."+c)}if(!qa[c]){d=e=xa(c);a:{var g={path:e.path,exports:e.exports},j=B.dirname(b)+"/",t=a;g.exports||(g.exports={});if("function"!=typeof t)try{t=new Function("exports, module, basis, global",'var __filename = "'+b.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'";\nvar __dirname = basis.path.dirname(__filename);\nvar resource = function(url){ return basis.resource(__dirname + "/" + url); };\n"use strict";\n\n'+a)}catch(q){wa.dev.error("Compilation error at "+b+("line"in q?":"+(q.line-
4):"")+": "+q);break a}t.call(g.exports,g.exports,g,wa,p,b,j,function(a){return ma(j+a)})}d.exports=g.exports;e.exports&&e.exports.constructor===Object&&R(e,e.exports)}return qa[c].exports},".css":t(function(a,b){var c=ob.resources[b];c?c.updateCssText(a):c=new ob(b);return c},{updatable:!0}),".json":t(function(a){if("object"==typeof a)return a;var b;try{a=String(a),b=wa.json.parse(a)}catch(c){}return b||null},{updatable:!0})}});var qa={},nb={};if("undefined"!=typeof Xa)for(var Mb in Xa){var jc=B.resolve(Mb);
nb[jc]=Xa[Mb]}var Nb=va(null,{className:"basis.Namespace",init:function(a){this.name=a;this.exports={path:this.name}},toString:function(){return"[basis.namespace "+this.path+"]"},extend:function(a){t(this.exports,a);return R(this,a)}}),xa=function(a){a=a.split(".");var b;b=a[0];var c=qa[b];c||(c=qa[b]=new Nb(b),c.namespaces_={},c.namespaces_[b]=c,fa.noConflict||(p[b]=c));"bt"==b&&!wb&&(wb=qa[b]);for(var c=b=c,d=1,e;e=a[d];d++){if(!c[e]){var g=a.slice(0,d+1).join(".");c[e]=new Nb(g);b.namespaces_[g]=
c[e]}c=c[e]}return qa[a.join(".")]=c},Sa;if(Oa){var kc=B.dirname(module.filename)+"/",pb=module.constructor.prototype;Sa=function(a,b){if(!/[^a-z0-9_\.]/i.test(a)||".js"==B.extname(a)){var c=pb._compile,d=xa(a);pb._compile=function(a,b){this.basis=wa;c.call(t(this,d),'var basis = module.basis;\nvar resource = function(filename){ return basis.require(__dirname + "/" + filename) };\n'+a,b)};var e=require(kc+a.replace(/\./g,"/"));(d.exports=e)&&e.constructor===Object&&R(d,e);pb._compile=c;return e}a=
B.resolve(b,a);return require(a)}}else Sa=function(a,b){if(!/[^a-z0-9_\.]/i.test(a)&&".js"!=B.extname(a)){var c=a,d=c.split(".")[0];a=c.replace(/\./g,"/")+".js";d==c&&(Ra[d]=Ra[c]||B.baseURI,nb[Ra[d]+a]=d);a=(Ra[d]||"")+a}else a=B.resolve(b,a);return ma(a).fetch()};R(Function.prototype,{bind:function(a){var b=this,c=ea(arguments,1);return c.length?function(){return b.apply(a,c.concat.apply(c,arguments))}:function(){return b.apply(a,arguments)}}});R(Array,{isArray:function(a){return"[object Array]"===
Ja.call(a)}});R(Array.prototype,{indexOf:function(a,b){b=parseInt(b,10)||0;if(0>b)return-1;for(;b<this.length;b++)if(this[b]===a)return b;return-1},lastIndexOf:function(a,b){var c=this.length;b=parseInt(b,10);for(b=isNaN(b)||b>=c?c-1:(b+c)%c;0<=b;b--)if(this[b]===a)return b;return-1},forEach:function(a,b){for(var c=0,d=this.length;c<d;c++)c in this&&a.call(b,this[c],c,this)},every:function(a,b){for(var c=0,d=this.length;c<d;c++)if(c in this&&!a.call(b,this[c],c,this))return!1;return!0},some:function(a,
b){for(var c=0,d=this.length;c<d;c++)if(c in this&&a.call(b,this[c],c,this))return!0;return!1},filter:function(a,b){for(var c=[],d=0,e=this.length;d<e;d++)d in this&&a.call(b,this[d],d,this)&&c.push(this[d]);return c},map:function(a,b){for(var c=[],d=0,e=this.length;d<e;d++)d in this&&(c[d]=a.call(b,this[d],d,this));return c},reduce:function(a,b){var c=this.length,d=arguments.length;if(0==c&&1==d)throw 1;var e,g=0;1<d&&(e=b,g=1);for(d=0;d<c;d++)d in this&&(e=g++?a.call(null,e,this[d],d,this):this[d]);
return e}});var ba={flatten:function(a){return a.concat.apply([],a)},repeat:function(a,b){return ba.flatten(Bb(parseInt(b,10)||0,a))},search:function(a,b,c,d){a.lastSearchIndex=-1;c=aa(c||$a);d=parseInt(d,10)||0;for(var e=a.length;d<e;d++)if(c(a[d])===b)return a[a.lastSearchIndex=d]},lastSearch:function(a,b,c,d){a.lastSearchIndex=-1;c=aa(c||$a);var e=a.length;d=isNaN(d)||null==d?e:parseInt(d,10);for(e=d>e?e:d;0<e--;)if(c(a[e])===b)return a[a.lastSearchIndex=e]},add:function(a,b){return-1==a.indexOf(b)&&
!!a.push(b)},remove:function(a,b){var c=a.indexOf(b);return-1!=c&&!!a.splice(c,1)},has:function(a,b){return-1!=a.indexOf(b)},sortAsObject:function(a,b,c,d){b=aa(b);d=d?-1:1;return a.map(function(a,c){return{i:c,v:b(a)}}).sort(c||function(a,b){return d*(a.v>b.v||-(a.v<b.v)||(a.i>b.i?1:-1))}).map(function(b){return a[b.i]},a)}};ab(Array,ba);if(![1,2].splice(1).length){var lc=Array.prototype.splice;Array.prototype.splice=function(){var a=ea(arguments);2>a.length&&(a[1]=this.length);return lc.apply(this,
a)}}var mc=/([\/\\\(\)\[\]\?\{\}\|\*\+\-\.\^\$])/g,nc=/\{([a-z\d_]+)(?::([\.0])(\d+)|:(\?))?\}/gi;R(String,{toLowerCase:function(a){return String(a).toLowerCase()},toUpperCase:function(a){return String(a).toUpperCase()},trim:function(a){return String(a).trim()},trimLeft:function(a){return String(a).trimLeft()},trimRight:function(a){return String(a).trimRight()}});R(String.prototype,{trimLeft:function(){return this.replace(/^\s+/,"")},trimRight:function(){return this.replace(/\s+$/,"")},trim:function(){return this.trimLeft().trimRight()}});
var La={toObject:function(a,b){try{return(new Function("return 0,"+a))()}catch(c){if(b)throw 2;}},repeat:function(a,b){return Array(parseInt(b,10)+1||0).join(a)},qw:function(a){return(a=a.trim())?a.split(/\s+/):[]},forRegExp:function(a){return a.replace(mc,"\\$1")},format:function(a,b){var c=ea(arguments,1);"object"==typeof b&&t(c,b);return a.replace(nc,function(a,b,g,j,p){a=b in c?c[b]:p?"":a;return g&&!isNaN(a)?(a=Number(a),"."==g?a.toFixed(j):qb.lead(a,j)):a})},capitalize:function(a){return a.charAt(0).toUpperCase()+
a.substr(1).toLowerCase()},camelize:function(a){return a.replace(/-(.)/g,function(a,c){return c.toUpperCase()})},dasherize:function(a){return a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()})}};ab(String,La);if(11!="|||".split(/\|/).length+"|||".split(/(\|)/).length){var oc=String.prototype.split;String.prototype.split=function(a,b){if(!a||!1==a instanceof RegExp||""==a.source)return oc.apply(this,arguments);var c=[],d=0,e;for(a.global||(a=RegExp(a.source,/\/([mi]*)$/.exec(a)[1]+"g"));e=
a.exec(this);)e[0]=this.substring(d,e.index),c.push.apply(c,e),d=a.lastIndex;c.push(this.substr(d));return c}}if("2"!="12".substr(-1)){var pc=String.prototype.substr;String.prototype.substr=function(a,b){return pc.call(this,0>a?Math.max(0,this.length+a):a,b)}}var qb={fit:function(a,b,c){return!isNaN(b)&&a<b?Number(b):!isNaN(c)&&a>c?Number(c):a},lead:function(a,b,c){return(a+"").replace(/\d+/,function(a){return 1<(b-=a.length-1)?Array(b).join(c||0)+a:a})},group:function(a,b,c){return(a+"").replace(/\d+/,
function(a){return a.replace(/\d/g,function(e,g){return!g+(a.length-g)%(b||3)?e:(c||" ")+e})})},format:function(a,b,c,d,e,g){a=a.toFixed(b);if(c||g)a=a.replace(/(\d+)(\.?)/,function(a,b,d){return(c?Number(b).group(3,c):b)+(d?g||d:"")});d&&(a=a.replace(/^-?/,"$&"+(d||"")));return a+(e||"")}};ab(Number,qb);R(Date,{now:function(){return+new Date}});var rb,ya=function(){if("complete"==A.readyState&&A.body&&!sb++)for(;V;)V.callback.call(V.context),V=V.next},Ob=function(){try{A.documentElement.doScroll("left"),
ya()}catch(a){setTimeout(Ob,1)}},sb=!A||"complete"==A.readyState&&!!A.body,V;if(!sb)if(A.addEventListener)A.addEventListener("DOMContentLoaded",ya,!1),p.addEventListener("load",ya,!1);else{A.attachEvent("onreadystatechange",ya);p.attachEvent("onload",ya);try{!p.frameElement&&A.documentElement.doScroll&&Ob()}catch(sc){}}rb=function(a,b){sb?a.call(b):V={callback:a,context:b,next:V}};var I,tb=function(a){if(A&&!Ea[a]&&(Ea[a]=A[a]||A.getElementsByTagName(a)[0],Ea[a])){var b=ca[a];delete ca[a];for(var c=
0,d;d=b[c];c++)d[0].call(d[1],Ea[a])}return Ea[a]},ub=function(){var a=this[0],b=this[1],c=this[2];Pb(b);var d=tb(a);if(d){!0===c&&(c=d.firstChild);if(!c||c.parentNode!==d)c=null;d.insertBefore(b,c)}else ca[a].push([ub,[a,b,c]])},Pb=function(a){for(var b in ca){var c=ba.search(ca[b],a,function(a){return a[1]&&a[1][1]});c&&ba.remove(ca[b],c)}a&&(a.parentNode&&1==a.parentNode.nodeType)&&a.parentNode.removeChild(a)},Rb=function(){tb("head")&&tb("body")&&clearInterval(Qb)},Qb,Ea={},ca={head:[],body:[]};
A&&(Qb=setInterval(Rb,5),rb(Rb));I={head:{ready:function(a,b){ca.head?ca.head.push([a,b]):a.call(b)},add:function(a,b){ub.call(["head",a,b])}},body:{ready:function(a,b){ca.body?ca.body.push([a,b]):a.call(b)},add:function(a,b){ub.call(["body",a,b])}},remove:Pb};var Ta;a:{var Sb=function(){Ua.globalDestroy=!0;Ua.add=M;Ua.remove=M;for(var a;a=Va.pop();)if("function"==typeof a.destroy)try{a.destroy()}catch(b){}else for(var c in a)a[c]=null;Va.length=0},Va=[];if("attachEvent"in p)p.attachEvent("onunload",
Sb);else if("addEventListener"in p)p.addEventListener("unload",Sb,!1);else{Ta={add:M,remove:M};break a}var Ua={add:function(a){null!=a&&Va.push(a)},remove:function(a){ba.remove(Va,a)}};Ta=Ua}var ob,Tb=function(a){Wa.setAttribute("href",a);I.head.add(Wa,!0)},Ub=function(){Wa.setAttribute("href",location.href);I.remove(Wa)},qc=function(){Tb(this.baseURI);this.element||(this.element=A.createElement("style"),vb||(this.textNode=this.element.appendChild(A.createTextNode(""))));I.head.add(this.element);
this.syncCssText();Ub()},Fa={},Vb=!0,vb;try{vb=!A.createElement("style").appendChild(A.createTextNode(""))}catch(tc){vb=!0}Ta.add({destroy:function(){Vb=!1;for(var a in Fa)Fa[a].destroy();Fa=null}});var Wa=A&&A.createElement("base"),Wb=va(null,{className:"basis.CssResource",inUse:0,url:"",baseURI:"",cssText:"",resource:null,element:null,textNode:null,init:function(a){this.url=B.resolve(a);this.baseURI=B.dirname(a)+"/";Fa[a]=this},updateCssText:function(a){this.cssText!=a&&(this.cssText=a,this.inUse&&
this.element&&(Tb(this.baseURI),this.syncCssText(),Ub()))},syncCssText:function(){this.textNode?this.textNode.nodeValue=this.cssText:this.element.styleSheet.cssText=this.cssText},startUse:function(){if(!this.inUse){if(!this.resource){var a=ma(this.url);this.resource=a;this.cssText=a.get(!0)}I.head.ready(qc,this)}this.inUse+=1},stopUse:function(){this.inUse&&(this.inUse-=1,!this.inUse&&this.element&&I.remove(this.element))},destroy:function(){this.element&&Vb&&I.remove(this.element);this.cssText=this.resource=
this.textNode=this.element=null}});Wb.resources=Fa;ob=Wb;var wa=xa("basis").extend({version:"1.0.0-rc1",NODE_ENV:Oa,config:fa,platformFeature:{},path:B,namespace:xa,require:Sa,resource:ma,asset:function(a){return a},getter:aa,ready:rb,setImmediate:ka,clearImmediate:oa,nextTick:function(){ka.apply(null,arguments)},Class:va,Token:mb,DeferredToken:ic,cleaner:Ta,console:Ma,doc:I,object:{extend:t,complete:R,keys:function(a){var b=[],c;for(c in a)b.push(c);return b},values:function(a){var b=[],c;for(c in a)b.push(a[c]);
return b},slice:zb,splice:function(a,b){var c={};if(!b)return t(c,a);for(var d=0,e;e=b[d++];)e in a&&(c[e]=a[e],delete a[e]);return c},merge:Za,iterate:Ab,coalesce:function(){for(var a=0;a<arguments.length;a++)if(null!=arguments[a])return arguments[a]}},fn:{$undefined:function(a){return void 0==a},$defined:function(a){return void 0!=a},$isNull:function(a){return null==a||void 0==a},$isNotNull:function(a){return null!=a&&void 0!=a},$isSame:function(a){return a===this},$isNotSame:function(a){return a!==
this},$self:$a,$const:function(a){return function(){return a}},$false:function(){return!1},$true:function(){return!0},$null:function(){return null},$undef:M,getter:aa,nullGetter:bb,wrapper:function(a){return function(b){var c={};c[a]=b;return c}},lazyInit:function(a,b){var c=0,d,e;return d=function(){c++||(d.inited=!0,d.data=e=a.apply(b||this,arguments));return e}},lazyInitAndRun:function(a,b,c){var d=0,e,g;return e=function(){d++||(e.inited=!0,e.data=g=a.call(c||this));b.apply(g,arguments);return g}},
runOnce:function(a,b){var c=0;return function(){if(!c++)return a.apply(b||this,arguments)}}},array:t(ea,Za(ba,{from:ea,create:Bb})),string:Za(La,{isEmpty:function(a){return null==a||""==String(a)},isNotEmpty:function(a){return null!=a&&""!=String(a)}}),number:qb,bool:{invert:function(a){return!a}},json:{parse:"undefined"!=typeof JSON?JSON.parse:La.toObject}});xa("basis.dev").extend(Ma);fa.autoload&&Sa(fa.autoload)}).call(this)